import{jsxs as e,jsx as r}from"react/jsx-runtime";import{useRef as t,useState as a,useEffect as c,createContext as n,useContext as l}from"react";function i(e,r){return new Date(e,r+1,0).getDate()}function d(e,r,t,a){return{date:new Date(e,r,t),currentMonth:a}}function o(e,r){return r-1<0?{month:11,year:e-1,days:i(e-1,11)}:{month:r-1,year:e,days:i(e,r-1)}}function s(e,r){return r+1>11?{month:0,year:e+1,days:i(e+1,1)}:{month:r+1,year:e,days:i(e,r+1)}}function p(e,r){const t=i(e,r),a=function(e,r){return new Date(e,r,0).getDay()}(e,r),c=[];let n=o(e,r);for(let e=0;e<a;e++)c.unshift(d(n.year,n.month,n.days-e,!1));for(let a=1;a<t+1;a++)c.push(d(e,r,a,!0));let l=35-c.length,p=s(e,r);for(let e=1;e<l+1;e++)c.push(d(p.year,p.month,e,!1));return c}function g(e){let r=[];for(let t=0;t<5;t++){let a=[];for(let r=7*t;r<7*t+7;r++)a.push(e[r]);r.push(a)}return r}function h(e){if(!e)return;const r=e.toString();return r.length>1?r:"0"+r}function u({children:t,onClick:a,open:c}){const{selected:n}=v();return e("div",{className:"rdp picker-trigger",onClick:a,children:[r("div",{className:"rdp picker-trigger-icon",children:r("img",{src:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="512" height="512" x="0" y="0" viewBox="0 0 323.358 323.358" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><g xmlns="http://www.w3.org/2000/svg"><g><path d="m48.863 323.358h225.632c23.653 0 42.875-19.222 42.875-42.875v-213.656c0-23.653-19.222-42.875-42.875-42.875h-17.006v-11.976c0-6.587-5.39-11.976-11.977-11.976s-11.976 5.389-11.976 11.976v11.976h-143.714v-11.976c0-6.587-5.39-11.976-11.977-11.976s-11.976 5.389-11.976 11.976v11.976h-17.006c-23.653 0-42.875 19.222-42.875 42.875v213.656c0 23.653 19.222 42.875 42.875 42.875zm-18.922-256.531c0-10.419 8.503-18.922 18.922-18.922h17.006v11.976c0 6.587 5.389 11.976 11.976 11.976s11.976-5.389 11.976-11.976v-11.976h143.715v11.976c0 6.587 5.389 11.976 11.976 11.976s11.976-5.389 11.976-11.976v-11.976h17.006c10.419 0 18.922 8.503 18.922 18.922v213.656c0 10.419-8.503 18.922-18.922 18.922h-225.631c-10.419 0-18.922-8.503-18.922-18.922z" fill="#949394" data-original="#949394" class=""></path><circle cx="92.816" cy="122.756" r="14.97" fill="#949394" data-original="#949394" class=""></circle><circle cx="158.685" cy="122.756" r="14.97" fill="#949394" data-original="#949394" class=""></circle><circle cx="224.554" cy="122.756" r="14.97" fill="#949394" data-original="#949394" class=""></circle><circle cx="92.816" cy="182.637" r="14.97" fill="#949394" data-original="#949394" class=""></circle><circle cx="158.685" cy="182.637" r="14.97" fill="#949394" data-original="#949394" class=""></circle><circle cx="224.554" cy="182.637" r="14.97" fill="#949394" data-original="#949394" class=""></circle><circle cx="92.816" cy="242.518" r="14.97" fill="#949394" data-original="#949394" class=""></circle><circle cx="158.685" cy="242.518" r="14.97" fill="#949394" data-original="#949394" class=""></circle><circle cx="224.554" cy="242.518" r="14.97" fill="#949394" data-original="#949394" class=""></circle></g></g></g></svg>',alt:""})}),e("div",{className:"rdp picker-trigger-main",children:[r("p",{className:"rdp picker-select-text",children:"Select a day"}),e("h2",{className:"rdp picker-date",children:[n&&h(null==n?void 0:n.date.getDate())+"."+h(null==n?void 0:n.date.getMonth())+"."+(null==n?void 0:n.date.getFullYear()),"Â "]})]}),r("div",{className:"rdp picker-trigger-arrow "+(c?"open":"closed"),children:r("img",{src:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" width="512" height="512" x="0" y="0" viewBox="0 0 128 128" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><path xmlns="http://www.w3.org/2000/svg" id="Down_Arrow_3_" d="m64 88c-1.023 0-2.047-.391-2.828-1.172l-40-40c-1.563-1.563-1.563-4.094 0-5.656s4.094-1.563 5.656 0l37.172 37.172 37.172-37.172c1.563-1.563 4.094-1.563 5.656 0s1.563 4.094 0 5.656l-40 40c-.781.781-1.805 1.172-2.828 1.172z" fill="#000000" data-original="#000000"></path></g></svg>',alt:""})}),t]})}function m({data:e,selected:t,handleSelectDay:a}){const{minDate:c}=v();return c&&e.date.getTime()<(null==c?void 0:c.getTime())?r("td",{className:"rdp calendar-day disabled",children:e.date.getDate()}):r("td",{onClick:r=>a(e),className:`rdp calendar-day \n                ${e.date.getTime()==(null==t?void 0:t.date.getTime())?"selected":""}\n                ${e.currentMonth?"":"different-month"}\n            `,children:e.date.getDate()})}function f({open:n,setOpen:l,onChange:i}){const{selected:d,setSelected:h,submitOnChange:u}=v(),f=t(),[x,y]=a(g(p(2022,(new Date).getMonth())));function w(e){u?(null==h||h(e),null==i||i(e.date),l(!1)):d&&d.date.getTime()==e.date.getTime()?null==h||h(void 0):null==h||h(e)}function b(e,r){let t=x[2][3].date.getMonth(),a=x[2][3].date.getFullYear();if("next"==e)for(let e=0;e<r;e++){let e=s(a,t);t=e.month,a=e.year}else if("prev"==e)for(let e=0;e<r;e++){let e=o(a,t);t=e.month,a=e.year}const c=g(p(a,t));y(c)}return c((()=>{const e=document.querySelector("div.rdp.picker-trigger");document.addEventListener("click",(r=>{r.composedPath().includes(e)||r.composedPath().includes(f.current)||l(!1)}))}),[]),e("div",{className:"rdp date-picker-wrapper "+(n?"open":"closed"),onClick:e=>e.stopPropagation(),ref:f,children:[e("div",{className:"rdp date-picker-header",children:[r("div",{onClick:e=>b("prev",1),className:"rdp scroll-arrow left",children:"prev"}),e("h3",{className:"rdp month-year",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][x[3][3].date.getMonth()]," ",x[3][3].date.getFullYear()]}),r("div",{onClick:e=>b("next",1),className:"rdp scroll-arrow right",children:"next"})]}),r("table",{className:"rdp date-picker table",children:r("tr",{children:["Mo","Tu","We","Th","Fr","Sa","Su"].map(((e,t)=>r("th",{className:"rdp calendar-day-title",children:e},t)))})}),r("div",{className:"rdp date-picker-calendar-wrapper",children:r("table",{className:"rdp date-picker table",children:x.map(((e,t)=>r("tr",{children:e.map(((e,t)=>r(m,{selected:d,data:e,handleSelectDay:w},t)))},t)))})}),!u&&e("div",{className:"rdp date-picker-buttons-wrapper",children:[r("button",{onClick:function(){null==h||h(void 0),l(!1)},className:"rdp button secondary-button",children:"Cancel"}),r("button",{onClick:function(){null==i||i(null==d?void 0:d.date),l(!1)},className:"rdp button primary-button",children:"Apply"})]})]})}!function(e,r){void 0===r&&(r={});var t=r.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css","top"===t&&a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e))}}('@import url("https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap");:root{--rdp-bg-clr:#fff;--rdp-text-clr:#000;--rdp-accent-clr:#1a1a1a;--rdp-secondary-clr:#949394;--rdp-soft-clr:#f2f2f2}.rdp{font-family:Lato,sans-serif}.rdp *{box-sizing:border-box;margin:0;padding:0}.rdp.picker-trigger{background-color:var(--rdp-bg-clr);border:1.5px solid var(--rdp-soft-clr);border-radius:10px;cursor:pointer;gap:15px;justify-content:space-between;padding:10px 20px;position:relative}.rdp.picker-trigger,.rdp.picker-trigger-icon{align-items:center;display:flex;flex-direction:row}.rdp.picker-trigger-icon{height:auto;width:20px}.rdp.picker-trigger-icon img{height:auto;width:100%}.rdp.picker-trigger-main{align-items:flex-start;display:flex;flex-direction:column}.rdp.picker-select-text{color:var(--rdp-accent-clr);font-size:13px;user-select:none}.rdp.picker-date{color:var(--rdp-text-clr);font-size:17px;font-weight:800;user-select:none}.rdp.picker-trigger-arrow{align-items:center;display:flex;flex-direction:row;height:auto;margin-left:100px;transition:all .3s ease;user-select:none;width:23px}.rdp.picker-trigger-arrow.open{transform:rotate(180deg);transition:all .3s ease}.rdp.picker-trigger-arrow img{height:auto;width:100%}.rdp.react-date-picker{width:100%}.rdp.date-picker-wrapper{background-color:var(--rdp-bg-clr);border-radius:10px;box-shadow:2px 2px 10px 1px rgba(0,0,0,.093);cursor:auto;display:flex;flex-direction:column;gap:10px;height:auto;left:0;opacity:0;padding:20px;pointer-events:none;position:absolute;top:105%;transform:translateY(-20px);transition:all .3s ease}.rdp.date-picker-wrapper.open{opacity:1;pointer-events:auto;transform:translateY(0);transition:all .3s ease}.rdp.calendar-day-title{color:var(--rdp-secondary-clr);font-weight:500}.rdp.calendar-day,.rdp.calendar-day-title{background-color:var(--rdp-bg-clr);border-radius:9px;height:36px;text-align:center;user-select:none;width:40px}.rdp.calendar-day{cursor:pointer;font-weight:600;transition:all 50ms ease}.rdp.calendar-day.different-month{color:var(--rdp-secondary-clr)}.rdp.calendar-day.selected{background-color:var(--rdp-accent-clr);color:var(--rdp-bg-clr)}.rdp.calendar-day:not(.disabled,.selected):hover{background-color:var(--rdp-soft-clr);transition:all 50ms ease}.rdp.calendar-day.disabled{color:var(--rdp-soft-clr);cursor:default;text-decoration:line-through}.rdp.date-picker-buttons-wrapper{display:flex;flex-direction:row;gap:8px}.rdp.button{border-radius:10px;cursor:pointer;padding:10px 20px;width:100%}.rdp.primary-button{background-color:var(--rdp-accent-clr);color:var(--rdp-bg-clr);font-weight:600}.rdp.secondary-button{background-color:var(--rdp-bg-clr);border:1.5px solid var(--rdp-soft-clr);color:var(--rdp-accent-clr);font-weight:600}.rdp.date-picker.table{table-layout:fixed;width:fit-content}.rdp.date-picker-calendar-wrapper{display:flex;overflow:hidden;width:295p x}.rdp.date-picker-header{display:flex;flex-direction:row;justify-content:space-between}.rdp.scroll-arrow{cursor:pointer;user-select:none}');const x=n({});function v(){return l(x)}function y({onChange:e,minDate:t,submitOnChange:c}){const[n,l]=a(!1),[i,d]=a(void 0),o={pickerOpen:n,setPickerOpen:l,selected:i,setSelected:d,minDate:t,submitOnChange:c};return r(x.Provider,{value:o,children:r(u,{onClick:()=>l((e=>!e)),open:n,children:r(f,{open:n,setOpen:l,onChange:e||void 0})})})}export{y as DatePicker,v as useDatePicker};
